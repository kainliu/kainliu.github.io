<!-- home > archives > notes > about > posts (null)--><!DOCTYPE html><html lang="en"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><title>A Fingerprint For An Article | Westworld</title><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Asar|Imprima"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/5.0.0/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.2/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.2/grids-responsive-min.css"><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/3.1.1/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/images/blog-logo.png"><link rel="apple-touch-icon" href="/images/blog-logo.png"><link rel="apple-touch-icon-precomposed" href="/images/blog-logo.png"><link rel="alternate" type="application/atom+xml" href="/atom.xml"></head><body><div id="header"><div class="body_container"><div class="site-name"><h1 class="hidden">A Fingerprint For An Article</h1><a id="logo" href="/."><img src="/images/blog-logo.png" class="blog-logo nofancybox"><span>Westworld</span></a><p class="description"></p></div><div id="nav-menu"><a href="/"><i class="fa fa-rocket"> Home</i></a><a href="/archives/"><i class="fa fa-sitemap"> Archives</i></a><a href="/about/"><i class="fa fa-user-circle"> About</i></a></div></div></div><div id="layout" class="pure-g body_container"><div class="pure-u-1 pure-u-md-4-4"><div class="content_container"><div class="post"><div class="post-header"><div class="screen-wide-bg"><div class="post-header-container"><i class="post-thumbnail"><img src="/images/laptop-fingerprint.png" class="nofancybox"/></i><h1 class="post-title">A Fingerprint For An Article</h1><div class="post-desc">An instant text mining of pages in the browser.</div><div class="post-meta"><span class="author">Kai</span><span class="date">2017-07-05</span></div></div></div></div><div class="post-content"><p>We are not so into duplicated information. Information theories and the economic principles place more weight on <em>uniqueness</em> and <em>scarcity</em>, over <em>duplication</em> and <em>universality</em>.</p>
<p>Itâ€™s the same when we have a huge number of articles to read.One question is raised: can we generate a small piece to reflect the article, by quickly quantifying the uniqueness of an article?</p>
<p>A intuitive way is to break text into words, and find out valuable keywords.</p>
<p>I would like to use a few lines of Javascript to give a quick estimation of such uniqueness.</p>
<ul>
<li><p>Get the text of document.</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Fingerprinter</span></span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>() &#123;</span><br><span class="line">    <span class="keyword">this</span>.content = <span class="built_in">document</span>.body.textContent.replace(<span class="regexp">/(\s+|\W+)/g</span>, <span class="string">' '</span>)</span><br><span class="line">    <span class="comment">// get text, and remove redundant spaces and punctuations.</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>Next, count words.</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Fingerprinter</span></span>&#123;</span><br><span class="line">  ...</span><br><span class="line">  <span class="comment">// initial a counter for words in the article</span></span><br><span class="line">  wordCounter() &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// cut article into words</span></span><br><span class="line">    <span class="keyword">var</span> words = <span class="keyword">this</span>.content.split(<span class="string">' '</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// counter</span></span><br><span class="line">    <span class="keyword">this</span>.dictionary = &#123;&#125;</span><br><span class="line"></span><br><span class="line">    words.forEach(<span class="function">(<span class="params">word</span>) =&gt;</span> &#123;</span><br><span class="line">      word = word.toLowerCase()</span><br><span class="line">      <span class="comment">// when we have a new word that never seen before</span></span><br><span class="line">      <span class="keyword">if</span> (!(word <span class="keyword">in</span> <span class="keyword">this</span>.dictionary)) &#123;</span><br><span class="line">        <span class="comment">// init with 0</span></span><br><span class="line">        <span class="keyword">this</span>.dictionary[word] = <span class="number">0</span></span><br><span class="line">      &#125;</span><br><span class="line">      <span class="comment">// and add by 1</span></span><br><span class="line">      <span class="keyword">this</span>.dictionary[word] += <span class="number">1</span></span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>Select the most frequent words as keywords, excluding non-informative words.</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Fingerprinter</span></span>&#123;</span><br><span class="line">  ...</span><br><span class="line">  <span class="comment">// return top N words with repeating times</span></span><br><span class="line">  <span class="comment">// @param: Int</span></span><br><span class="line">  <span class="comment">// @return: [ &#123;"word": String, "count": Int&#125; ]</span></span><br><span class="line">  top(N=<span class="number">5</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> all = []</span><br><span class="line"></span><br><span class="line">    <span class="comment">// a small dictionary contains non-informative words</span></span><br><span class="line">    <span class="keyword">var</span> remove_dictionary = &#123;</span><br><span class="line">      <span class="string">'a'</span>:  <span class="number">0</span>, <span class="string">'an'</span>:<span class="number">0</span>, <span class="string">'the'</span>:<span class="number">0</span>,</span><br><span class="line">      <span class="string">'to'</span>: <span class="number">0</span>, <span class="string">'of'</span>:<span class="number">0</span>, <span class="string">'and'</span>:<span class="number">0</span>,</span><br><span class="line">      <span class="string">'it'</span>: <span class="number">0</span>, <span class="string">'is'</span>:<span class="number">0</span>, <span class="string">'so'</span>: <span class="number">0</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> word <span class="keyword">in</span> <span class="keyword">this</span>.dictionary) &#123;</span><br><span class="line">      <span class="comment">// skip this iteration if it's in the removing dictionary</span></span><br><span class="line">      <span class="comment">// or it's very short</span></span><br><span class="line">      <span class="keyword">if</span> (word <span class="keyword">in</span> remove_dictionary or word.length &lt;= <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">continue</span></span><br><span class="line">      &#125;</span><br><span class="line">      all.push([<span class="keyword">this</span>.dictionary[word], word])</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// descending sort (with strange javascript sort function)</span></span><br><span class="line">    all.sort(<span class="function">(<span class="params">a,b</span>) =&gt;</span> &#123;<span class="keyword">return</span> b[<span class="number">0</span>] - a[<span class="number">0</span>]&#125;)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// get top N</span></span><br><span class="line">    <span class="keyword">return</span> all.slice(<span class="number">0</span>, N)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<hr>
<p>Analysis result of the previous paragraph of this blog, is as follows:</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; <span class="keyword">var</span> fp = <span class="keyword">new</span> Fingerprinter()</span><br><span class="line">&gt;&gt;&gt; fp.wordCounter()</span><br><span class="line">&gt;&gt;&gt; fp.top()</span><br><span class="line"></span><br><span class="line">[ [ <span class="number">3</span>, <span class="string">'we'</span> ],</span><br><span class="line">  [ <span class="number">3</span>, <span class="string">'uniqueness'</span> ],</span><br><span class="line">  [ <span class="number">2</span>, <span class="string">'into'</span> ],</span><br><span class="line">  [ <span class="number">2</span>, <span class="string">'information'</span> ],</span><br><span class="line">  [ <span class="number">2</span>, <span class="string">'article'</span> ] ]</span><br></pre></td></tr></table></figure>
<p>These keywords can be helpful. Itâ€™s a rough guess that <code>we</code> are talking about <code>uniqueness</code> and <code>information</code> about <code>article</code>s.</p>
<p>In a recently published web page, often it is not cached or crawled by server. This snippet can be helpful in sending a rough fingerprint of the article from the browser, which is almost instant.</p>
</div><div class="post-meta"><div class="tags"><a href="/tags/javascript/">javascript</a><a href="/tags/text-mining/">text mining</a><a href="/tags/fingerprint/">fingerprint</a><a href="/tags/algorithm/">algorithm</a><!-- tag.name--></div></div><script type="text/javascript" src="/js/share.js?v=0.0.0" async></script><div><a data-url="http://westworld.name/posts/a-fingerprint-from-an-article/" data-id="cjkq38bxu00005iqbzc4d4jmo" class="article-share-link">Share</a></div><div id="disqus_show" class="readmore"><a class="show-comments" href="javascript:return false;"><span class="disqus-comment-count" data-disqus-identifier="posts/a-fingerprint-from-an-article/"> Comments</span></a></div><div id="disqus_thread"></div><script>// Requires jQuery of course.
$(document).ready(function() {
    $('.show-comments').on('click', function(){
        var disqus_shortname = 'kaigithub';
        // ajax request to load the disqus javascript
        $.ajax({
                type: "GET",
                url: "//" + disqus_shortname + ".disqus.com/embed.js",
                dataType: "script",
                cache: true
        });
        // hide the button once comments load
        $(this).fadeOut();
    });
});
</script><script id="dsq-count-scr" src="//kaigithub.disqus.com/count.js" async></script><div id="post_nav_container" class="screen-wide-bg">  <div class="post-nav pure-u-1 pure-u-md-4-4"><div class="pure-u-md-1-2"><a href="/posts/thoughts-on-a-beautiful-trick-of-memorization-in-python/" class="pre"><span>Thoughts on A Beautiful Trick for Memorization</span><i><img src="/images/target.png" class="nofancybox"></i></a></div><div class="pure-u-md-1-2"> <a href="/posts/blog-new-logo/" class="next"><span>Blog New Logo</span><i><img src="/images/blog-logo.png" class="nofancybox"></i></a></div></div></div></div></div></div><div class="pure-u-1 pure-u-md-4-4"><div id="footer"><p>Â© <a href="/." rel="nofollow">Westworld.</a><span> Site Generated by <a rel="nofollow" target="_blank" href="https://hexo.io">Hexo. </a></span></p><p> <span> Theme modified from <a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo">Maupassant. </a></span><span>Icons from <a rel="nofollow" target="_blank" href="http://www.flaticon.com">Flaticon </a>are licensed by CC 3.0 BY.</span></p></div></div></div><a id="rocket" href="#top" class="show"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.pack.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="/css/jquery.fancybox.css?v=0.0.0"><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></body></html>