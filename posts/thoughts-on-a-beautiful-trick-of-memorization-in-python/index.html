<!-- home > archives > notes > about > posts (null)--><!DOCTYPE html><html lang="en"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><title>Thoughts on A Beautiful Trick for Memorization | Westworld</title><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Asar|Imprima"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/5.0.0/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.2/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.2/grids-responsive-min.css"><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/3.1.1/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/images/blog-logo.png"><link rel="apple-touch-icon" href="/images/blog-logo.png"><link rel="apple-touch-icon-precomposed" href="/images/blog-logo.png"><link rel="alternate" type="application/atom+xml" href="/atom.xml"></head><body><div id="header"><div class="body_container"><div class="site-name"><h1 class="hidden">Thoughts on A Beautiful Trick for Memorization</h1><a id="logo" href="/."><img src="/images/blog-logo.png" class="blog-logo nofancybox"><span>Westworld</span></a><p class="description"></p></div><div id="nav-menu"><a href="/"><i class="fa fa-rocket"> Home</i></a><a href="/archives/"><i class="fa fa-sitemap"> Archives</i></a><a href="/about/"><i class="fa fa-user-circle"> About</i></a></div></div></div><div id="layout" class="pure-g body_container"><div class="pure-u-1 pure-u-md-4-4"><div class="content_container"><div class="post"><div class="post-header"><div class="screen-wide-bg"><div class="post-header-container"><i class="post-thumbnail"><img src="/images/target.png" class="nofancybox"/></i><h1 class="post-title">Thoughts on A Beautiful Trick for Memorization</h1><div class="post-desc">Using function-level shared variables as memorizers.</div><div class="post-meta"><span class="author">Kai</span><span class="date">2017-07-06</span></div></div></div></div><div class="post-content"><p>This trick is using a function argument to memorize recursive states of expensive calculations ( <a href="https://docs.python.org/2/faq/programming.html#why-are-default-values-shared-between-objects" target="_blank" rel="noopener">python docs</a> ).</p>
<p>An example is to improve fibonacci calculator as follows,</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fib_naive</span><span class="params">(n)</span>:</span></span><br><span class="line">    <span class="string">""" Naive fibonacci calculator """</span></span><br><span class="line">    <span class="keyword">if</span> n &lt;= <span class="number">1</span>: <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> fib_naive(n<span class="number">-1</span>) + fib_naive(n<span class="number">-2</span>)</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fib_cache</span><span class="params">(n, _cache = &#123;&#125;)</span>:</span></span><br><span class="line">    <span class="string">""" Fibonacci calculator with cache """</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># Return cache results</span></span><br><span class="line">    <span class="keyword">if</span> n <span class="keyword">in</span> _cache:</span><br><span class="line">        <span class="keyword">return</span> _cache[n]      </span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> n &lt;= <span class="number">1</span>:</span><br><span class="line">        result = <span class="number">1</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        result = fib_cache(n<span class="number">-1</span>) + fib_cache(n<span class="number">-2</span>)</span><br><span class="line">        <span class="comment"># Callers will never provide a second parameter.</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># Store results</span></span><br><span class="line">    _cache[n] = result        </span><br><span class="line">    <span class="keyword">return</span> result</span><br></pre></td></tr></table></figure>
<p>If you totally get the trick of <code>_cache = {}</code> — isn’t it nice? — I am very happy to accept it.</p>
<p>Of course, maintaining a global variable for storage could also deliver the same functionality.</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="string">""" Using global cache """</span></span><br><span class="line"></span><br><span class="line">cache = &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">run</span><span class="params">(n)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> n <span class="keyword">in</span> cache:      <span class="comment"># Is it a undefined local variable?</span></span><br><span class="line">        ....</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> n == MAXIMUM_VALUE:</span><br><span class="line">        cache = &#123;&#125;      <span class="comment"># May I clear the cache safely?</span></span><br><span class="line"></span><br><span class="line">    ....</span><br><span class="line">    _cache[n] = result  <span class="comment"># Should be okay to update the cache.</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">walk</span><span class="params">(n)</span>:</span>            <span class="comment"># What if I do not want to share cache </span></span><br><span class="line">                        <span class="comment"># with other functions?</span></span><br><span class="line">    ....</span><br></pre></td></tr></table></figure>
<p>I can not answer these questions with 100 percent confidence.</p>
<p>Let’s start with understanding <code>local</code> and <code>global</code> variables.</p>
<h2 id="Local-amp-Global"><a href="#Local-amp-Global" class="headerlink" title="Local &amp; Global"></a>Local &amp; Global</h2><p>Python is compact. And with a price.</p>
<p>For example, it saves us from declaring the variables in a verbose way,</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">x = Point(<span class="number">10</span>,<span class="number">10</span>) <span class="comment"># Python</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">Point x = <span class="keyword">new</span> Point(<span class="number">10</span>, <span class="number">10</span>);  <span class="comment">/* Java */</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> x = <span class="keyword">new</span> Point(<span class="number">10</span>, <span class="number">10</span>);  <span class="comment">// ECMA5 Javascript</span></span><br></pre></td></tr></table></figure>
<p>But it takes some efforts to understand its concept of variable scopes.</p>
<div class="vertical-col"><br><div class="col"><br><br><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">arr = [<span class="keyword">True</span>]</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">run</span><span class="params">()</span>:</span></span><br><span class="line">  arr[<span class="number">0</span>] = <span class="keyword">False</span></span><br><span class="line">  <span class="keyword">print</span> <span class="string">'inside: '</span>, arr</span><br><span class="line"></span><br><span class="line">run()</span><br><span class="line"><span class="keyword">print</span> <span class="string">'outside:'</span>, arr</span><br><span class="line"></span><br><span class="line">------</span><br><span class="line">inside:  [<span class="keyword">False</span>]</span><br><span class="line">outside: [<span class="keyword">False</span>]</span><br></pre></td></tr></table></figure><br><br></div>

<div class="col"><br><br><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">arr = [<span class="keyword">True</span>]</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">run</span><span class="params">()</span>:</span></span><br><span class="line">  arr = [<span class="keyword">False</span>]</span><br><span class="line">  <span class="keyword">print</span> <span class="string">'inside: '</span>, arr</span><br><span class="line"></span><br><span class="line">run()</span><br><span class="line"><span class="keyword">print</span> <span class="string">'outside:'</span>, arr</span><br><span class="line"></span><br><span class="line">------</span><br><span class="line">inside:  [<span class="keyword">False</span>]</span><br><span class="line">outside: [<span class="keyword">True</span>]</span><br></pre></td></tr></table></figure><br><br></div>

<p></p></div><p></p>
<p>Let’s examine the differences.</p>
<p>In the first block, I am actually calling <code>arr.__setitem__(0, False)</code>. Python finds out that <code>arr</code> is not defined inside function scope (<code>local</code>), and thus continues to look it up in the outside scope (<code>global</code>). After successfully locating <code>arr</code> in global scope, python calls a function to change the first item of a global variable.</p>
<p>In comparison, in the second block, python considers <code>arr = [False]</code> as an action to create a local variable.</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># &lt; global variable scope &gt;</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">run</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="comment"># &lt; local variable scope &gt;</span></span><br></pre></td></tr></table></figure>
<p>If we would like to add another element to <code>arr</code>, there are two ways:</p>
<div class="vertical-col"><br><div class="col"><br><br><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">arr = [<span class="keyword">True</span>]</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">run</span><span class="params">()</span>:</span></span><br><span class="line">  arr.extend([<span class="keyword">False</span>])</span><br><span class="line">  <span class="keyword">print</span> <span class="string">'inside: '</span>, arr</span><br><span class="line"></span><br><span class="line">run()</span><br><span class="line"><span class="keyword">print</span> <span class="string">'outside:'</span>, arr</span><br><span class="line"></span><br><span class="line">------</span><br><span class="line">inside:  [<span class="keyword">True</span>, <span class="keyword">False</span>]</span><br><span class="line">outside: [<span class="keyword">True</span>, <span class="keyword">False</span>]</span><br></pre></td></tr></table></figure><br><br></div>

<div class="col"><br><br><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">arr = [<span class="keyword">True</span>]</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">run</span><span class="params">()</span>:</span></span><br><span class="line">  arr += [<span class="keyword">False</span>]</span><br><span class="line">  <span class="keyword">print</span> <span class="string">'inside: '</span>, arr</span><br><span class="line"></span><br><span class="line">run()</span><br><span class="line"><span class="keyword">print</span> <span class="string">'outside:'</span>, arr</span><br><span class="line"></span><br><span class="line">------</span><br><span class="line">UnboundLocalError: </span><br><span class="line">local variable <span class="string">'arr'</span> referenced before assignment</span><br></pre></td></tr></table></figure><br><br></div><br></div>

<p>The first block is easy to understand, since calling a function <code>arr.extend</code> is just like <code>arr.__setitem__</code> in the previous example.<br>Meanwhile, in second block, <code>arr += [False]</code> equals to <code>arr = arr + [False]</code>. </p>
<p>One principle here in python is,</p>
<blockquote>
<p>Anything being assigned ( <code>x = ...</code> ) is taken as a local variable in <code>function</code>.</p>
</blockquote>
<p>At the left side of equation, on such principle, python judges <code>arr</code> is a local variable. At the right side of equation, it throws an error because of a loop of variable assignment.</p>
<p>Our original purpose is to take <code>arr</code> as a global variable. And we have to add a line to declare such intention.</p>
<div class="vertical-col"><br><div class="col"><br><br><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">arr = [<span class="keyword">True</span>]</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">run</span><span class="params">()</span>:</span></span><br><span class="line">  <span class="comment"># declare global using `global`</span></span><br><span class="line">  <span class="keyword">global</span> arr   </span><br><span class="line">  arr += [<span class="keyword">False</span>]</span><br><span class="line">  <span class="keyword">print</span> <span class="string">'inside: '</span>, arr</span><br><span class="line"></span><br><span class="line">run()</span><br><span class="line"><span class="keyword">print</span> <span class="string">'outside:'</span>, arr</span><br><span class="line"></span><br><span class="line">------</span><br><span class="line">inside:  [<span class="keyword">True</span>, <span class="keyword">False</span>]</span><br><span class="line">outside: [<span class="keyword">True</span>, <span class="keyword">False</span>]</span><br></pre></td></tr></table></figure><br><br></div>

<div class="col"><br><br><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">arr = [<span class="keyword">True</span>]</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">run</span><span class="params">()</span>:</span></span><br><span class="line">  <span class="comment"># declare local using `=`</span></span><br><span class="line">  arr = []     </span><br><span class="line">  arr += [<span class="keyword">False</span>]</span><br><span class="line">  <span class="keyword">print</span> <span class="string">'inside: '</span>, arr</span><br><span class="line"></span><br><span class="line">run()</span><br><span class="line"><span class="keyword">print</span> <span class="string">'outside:'</span>, arr</span><br><span class="line"></span><br><span class="line">------</span><br><span class="line">inside:  [<span class="keyword">False</span>]</span><br><span class="line">outside: [<span class="keyword">True</span>]</span><br></pre></td></tr></table></figure><br><br></div><br></div>

<h3 id="Looking-around-on-Javascript"><a href="#Looking-around-on-Javascript" class="headerlink" title="Looking around on Javascript"></a>Looking around on Javascript</h3><div class="vertical-col"><br><div class="col"><br><br><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// IT'S Javascript!</span></span><br><span class="line"><span class="keyword">var</span> a = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">run</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="comment">// OPS! forget to initialize before use it</span></span><br><span class="line">    a = <span class="literal">false</span>;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'inside: '</span>, a)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">run()</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'outside:'</span>, a)</span><br><span class="line"></span><br><span class="line">------</span><br><span class="line">inside:  <span class="literal">false</span></span><br><span class="line">outside: <span class="literal">false</span></span><br></pre></td></tr></table></figure><br><br></div>

<div class="col"><br><br><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// IT'S Javascript!</span></span><br><span class="line"><span class="keyword">var</span> a = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">run</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> a;</span><br><span class="line">    a = <span class="literal">false</span>;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'inside: '</span>, a)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">run()</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'outside:'</span>, a)</span><br><span class="line"></span><br><span class="line">------</span><br><span class="line">inside:  <span class="literal">false</span></span><br><span class="line">outside: <span class="literal">true</span></span><br></pre></td></tr></table></figure><br><br></div><br></div>

<p>In comparison, it’s easy to understand why javascript shocks so many engineers with non-front-end background, by placing more weight on <code>easy to run</code> over <code>global variable safety</code>. While in Baidu (one of the largest search companies, <a href="https://en.wikipedia.org/wiki/Baidu" target="_blank" rel="noopener">wiki</a>), I have gained more than enough experience in debugging on web pages, where global variables are contaminated by careless coders.</p>
<h2 id="Memorization"><a href="#Memorization" class="headerlink" title="Memorization"></a>Memorization</h2><p>Does the cache speed up the calculation?</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> timeit <span class="keyword">import</span> default_timer <span class="keyword">as</span> timer</span><br><span class="line"></span><br><span class="line">k = <span class="number">30</span></span><br><span class="line">start = timer()</span><br><span class="line">fib_naive(k)</span><br><span class="line">pause = timer()</span><br><span class="line">fib_cache(k)</span><br><span class="line">stop = timer()</span><br><span class="line"></span><br><span class="line">time1 = pause - start</span><br><span class="line">time2 = stop - pause</span><br><span class="line"><span class="keyword">print</span> <span class="string">'%6f / %6f = %d'</span> % (time1, time2, time1 / time2)</span><br><span class="line"></span><br><span class="line">------</span><br><span class="line"><span class="number">0.311446</span> / <span class="number">0.000061</span> = <span class="number">5102</span></span><br></pre></td></tr></table></figure>
<p>The <code>Big O</code> of <code>fib</code> is $O(2^n)$ (<a href="https://stackoverflow.com/questions/360748/computational-complexity-of-fibonacci-sequence" target="_blank" rel="noopener">stackoverflow</a>), while the <code>fib_cache</code> is $O(n)$.</p>
<p>Memorization contributes a lot, and actually it is the core of <em>Dynamic Programming</em>. Some would like to introduce DP as,</p>
<center> Top-down Dynamic Programming = Divide &amp; Conquer + Memorization </center>

<p>And I think this equation explains <em>Dynamic Programming</em> better than the name itself.</p>
<h2 id="Default-Value"><a href="#Default-Value" class="headerlink" title="Default Value"></a>Default Value</h2><p>Consider following example:</p>
<div class="vertical-col"><br><div class="col"><br><br><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">store</span><span class="params">(ele, arr = [])</span>:</span></span><br><span class="line"></span><br><span class="line">  arr.append(ele)</span><br><span class="line">  <span class="keyword">return</span> arr</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> store(<span class="number">1</span>) == [<span class="number">1</span>]</span><br><span class="line"><span class="keyword">print</span> store(<span class="number">2</span>) == [<span class="number">2</span>]</span><br><span class="line"><span class="keyword">print</span> store.__defaults__</span><br><span class="line"></span><br><span class="line">------</span><br><span class="line"><span class="keyword">True</span></span><br><span class="line"><span class="keyword">False</span></span><br><span class="line">([<span class="number">1</span>, <span class="number">2</span>],)</span><br></pre></td></tr></table></figure><br><br></div>

<div class="col"><br><br><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">store</span><span class="params">(ele, arr = None)</span>:</span></span><br><span class="line">  <span class="keyword">if</span> <span class="keyword">not</span> arr: arr = []</span><br><span class="line">  arr.append(ele)</span><br><span class="line">  <span class="keyword">return</span> arr</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> store(<span class="number">1</span>) == [<span class="number">1</span>]</span><br><span class="line"><span class="keyword">print</span> store(<span class="number">2</span>) == [<span class="number">2</span>]</span><br><span class="line"><span class="keyword">print</span> store.__defaults__ </span><br><span class="line"></span><br><span class="line">------</span><br><span class="line"><span class="keyword">True</span></span><br><span class="line"><span class="keyword">True</span></span><br><span class="line">(<span class="keyword">None</span>,)</span><br></pre></td></tr></table></figure><br><br></div><br></div>

<p>As the <a href="https://docs.python.org/2/faq/programming.html#why-are-default-values-shared-between-objects" target="_blank" rel="noopener">Python docs</a> points out that,</p>
<blockquote>
<p>It is often expected that a function call creates new objects for default values. This is not what happens. Default values are created exactly <strong>once</strong>, when the function is defined.</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// IT'S Javascript</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">store</span>(<span class="params">ele, arr = []</span>)</span>&#123;</span><br><span class="line">    arr.push(ele)</span><br><span class="line">    <span class="keyword">return</span> arr</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// A new call creates a new array with default value.</span></span><br><span class="line"><span class="built_in">console</span>.log(store(<span class="number">1</span>))  <span class="comment">// output: [ 1 ]</span></span><br><span class="line"><span class="built_in">console</span>.log(store(<span class="number">2</span>))  <span class="comment">// output: [ 2 ]</span></span><br></pre></td></tr></table></figure>
<p>So a good programming practice is to NOT use mutable objects, e.g.<code>list</code>/<code>dict</code>,  as default values. Immutable objects of default values are also created once, since it can not be changed, the values will be copied to create new local variables inside the function.</p>
<p>Unless you are very clear about what you are doing, mutable objects of default values can cause confusing consequences.</p>
<p>Looking at <code>fib_cache(..., _cache = {})</code> again, it takes full advantage of such feature, <code>_cache</code> is <em>bound</em> to this function, serving as a function-level shared variable. It reminds me of <em>class variable</em> shared by all instances.</p>
<hr>
<p>I will end this post by improving the global solution as mentioned in the beginning.</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="string">""" Global variable solution """</span></span><br><span class="line"></span><br><span class="line">cache = &#123;&#125;</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">run</span><span class="params">(n)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> n <span class="keyword">in</span> cache:      <span class="comment"># Wait.. is it an undefined local variable?</span></span><br><span class="line">        ....            <span class="comment">#</span></span><br><span class="line">                        <span class="comment"># No. It is the global variable as we wished.</span></span><br><span class="line">    <span class="keyword">if</span> n == MAXIMUM_VALUE:</span><br><span class="line">        <span class="comment"># cache = &#123;&#125;    # May I clear the cache safely?</span></span><br><span class="line">                        <span class="comment">#</span></span><br><span class="line">                        <span class="comment"># Not in this way.</span></span><br><span class="line">                        <span class="comment"># This declaration will raise `UnboundLocalError`.</span></span><br><span class="line">        cache.clear()   <span class="comment"># Use `clear` method instead.</span></span><br><span class="line"></span><br><span class="line">    ....</span><br><span class="line"></span><br><span class="line">    cache[n] = result   <span class="comment"># It's okay to update the cache in this way</span></span><br><span class="line">                        <span class="comment"># since it's `cache.__setitem__(n, result)`.</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">walk</span><span class="params">()</span>:</span></span><br><span class="line">    ....                <span class="comment"># Every other function could touch the global cache.</span></span><br><span class="line">                        <span class="comment"># So why not use `_cache` trick :)</span></span><br></pre></td></tr></table></figure>
</div><div class="post-meta"><div class="tags"><a href="/tags/python/">python</a><a href="/tags/fibonacci/">fibonacci</a><a href="/tags/memorization/">memorization</a><a href="/tags/scope/">scope</a><!-- tag.name--></div></div><script type="text/javascript" src="/js/share.js?v=0.0.0" async></script><div><a data-url="http://westworld.name/posts/thoughts-on-a-beautiful-trick-of-memorization-in-python/" data-id="cjkq38bys00135iqb64ejrrur" class="article-share-link">Share</a></div><div id="disqus_show" class="readmore"><a class="show-comments" href="javascript:return false;"><span class="disqus-comment-count" data-disqus-identifier="posts/thoughts-on-a-beautiful-trick-of-memorization-in-python/"> Comments</span></a></div><div id="disqus_thread"></div><script>// Requires jQuery of course.
$(document).ready(function() {
    $('.show-comments').on('click', function(){
        var disqus_shortname = 'kaigithub';
        // ajax request to load the disqus javascript
        $.ajax({
                type: "GET",
                url: "//" + disqus_shortname + ".disqus.com/embed.js",
                dataType: "script",
                cache: true
        });
        // hide the button once comments load
        $(this).fadeOut();
    });
});
</script><script id="dsq-count-scr" src="//kaigithub.disqus.com/count.js" async></script><div id="post_nav_container" class="screen-wide-bg">  <div class="post-nav pure-u-1 pure-u-md-4-4"><div class="pure-u-md-1-2"><a href="/posts/solve-biggest-k-problem-by-heap-in-right-way/" class="pre"><span>Solve Biggest K Problem By Heap, In Right Way</span><i><img src="/images/cart.png" class="nofancybox"></i></a></div><div class="pure-u-md-1-2"> <a href="/posts/a-fingerprint-from-an-article/" class="next"><span>A Fingerprint For An Article</span><i><img src="/images/laptop-fingerprint.png" class="nofancybox"></i></a></div></div></div></div></div></div><div class="pure-u-1 pure-u-md-4-4"><div id="footer"><p>© <a href="/." rel="nofollow">Westworld.</a><span> Site Generated by <a rel="nofollow" target="_blank" href="https://hexo.io">Hexo. </a></span></p><p> <span> Theme modified from <a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo">Maupassant. </a></span><span>Icons from <a rel="nofollow" target="_blank" href="http://www.flaticon.com">Flaticon </a>are licensed by CC 3.0 BY.</span></p></div></div></div><a id="rocket" href="#top" class="show"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.pack.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="/css/jquery.fancybox.css?v=0.0.0"><script type="text/x-mathjax-config">MathJax.Hub.Config({
  messageStyle: "none",
  tex2jax: {
    inlineMath: [['$','$'], ['\\(','\\)']],
    preview: "none"
  }
});
</script><script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML" async></script><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></body></html>